{
  "suite_id": "auth-basic-001",
  "suite_name": "Authentication Smoke Tests",
  "description": "覆盖登录、登出、权限校验等关键场景，验证身份认证服务的正确性与鲁棒性。",
  "context": {
    "target": "http://localhost:8000",
    "language": "python",
    "framework": "pytest",
    "entry_point": "tests/test_auth_flow.py"
  },
  "fixtures": [
    {
      "name": "auth_client",
      "type": "http",
      "details": {
        "base_url": "http://localhost:8000/api",
        "headers": {
          "Content-Type": "application/json"
        }
      }
    }
  ],
  "test_cases": [
    {
      "id": "AUTH_TC001",
      "title": "用户名密码正确登录成功",
      "priority": "P0",
      "steps": [
        "POST /login 提交用户名 alice 和密码 secret123",
        "校验响应状态码为 200",
        "校验响应体中包含 access_token 与 refresh_token"
      ],
      "expected_result": "返回有效的 access_token 与 refresh_token"
    },
    {
      "id": "AUTH_TC002",
      "title": "错误密码返回认证失败",
      "priority": "P0",
      "steps": [
        "POST /login 提交用户名 alice 和错误密码 wrong",
        "校验响应状态码为 401",
        "校验响应体包含 error 字段，提示 Invalid credentials"
      ],
      "expected_result": "返回 401 并包含错误提示 Invalid credentials"
    },
    {
      "id": "AUTH_TC003",
      "title": "访问受保护接口需携带令牌",
      "priority": "P1",
      "steps": [
        "不带 Authorization 请求 GET /profile",
        "校验响应状态码为 403 或 401",
        "校验响应体包含 Missing token 或 Unauthorized"
      ],
      "expected_result": "未认证请求得到拒绝，响应指明缺少令牌"
    },
    {
      "id": "AUTH_TC004",
      "title": "刷新令牌生成新的访问令牌",
      "priority": "P1",
      "steps": [
        "使用有效 refresh_token 调用 POST /refresh",
        "校验响应状态码为 200",
        "校验响应返回新 access_token"
      ],
      "expected_result": "刷新令牌成功返回新 access_token，状态码 200"
    }
  ]
}
